<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>后台管理系统</title>
    <link th:href="@{/themes/default/easyui.css}" rel="stylesheet"/>
    <link th:href="@{/themes/icon.css}" rel="stylesheet"/>

    <script th:src="@{/js/jquery-1.7.2.min.js}" type="text/javascript" charset="utf-8"></script>
    <script th:src="@{/js/jquery.easyui.min.js}" type="text/javascript" charset="utf-8"></script>

</head>
<body class="easyui-layout">
    <div data-options="region:'north',title:'顶部导航',split:true" style="height:100px;"></div>

    <div data-options="region:'south',title:'底部导航',split:true" style="height:100px;"></div>

    <div data-options="region:'east',iconCls:'icon-reload',title:'East',split:true" style="width:100px;"></div>

    <div data-options="region:'west',title:'左侧导航',split:true" style="width:200px;">
        <ul id="myTree"></ul>
    </div>

    <div data-options="region:'center',title:'主体内容'" style="padding:5px;background:#eee;">
        <!--data-options="fit:true" 设置为true时，选项卡的大小将铺满它所在的容器 -->
        <div id="myTab" class="easyui-tabs" style="width:500px;height:250px;" data-options="fit:true">
            <div title="Tab1" style="padding:20px;display:none;">
                tab1
            </div>
            <div title="Tab2" data-options="closable:true" style="overflow:auto;padding:20px;display:none;">
                tab2
            </div>
            <div title="Tab3" data-options="iconCls:'icon-reload',closable:true" style="padding:20px;display:none;">
                tab3
            </div>
        </div>

    </div>
</body>
</html>

<script>

    /**
     * EasyUI Tree中默认方法是 post 会导致浏览器 控制台报错：  405 (Method Not Allowed)
     * 解决方法： 加上 method: 'get',  指定 使用 get 方式 请求本地json 文件 就可以了！
     *  url:'/json/tree_data.json'  请求本地 json 文件
     *   url:'/menu/tree'   请求后台数据
     */
    $(function () {
        $('#myTree').tree({
            method: 'get', animate: true,
            lines: true,
            url:'/menu/tree2',
            onClick: function(node){ // tree 节点 点击事件

                var myTab = $('#myTab');
                // 禁止重复打开选项卡
                if(myTab.tabs('getTab',node.text) != null) {
                    myTab.tabs('select',node.text); return;
                }

                // 添加选项卡
                myTab.tabs('add',{
                    title: node.text,closable:true,
                    href:node.url, // 从URL加载远程数据内容填充到选项卡面板
                });
            },
            loadFilter: function(data){ // 使用 loadFilter 函数处理来自Web Services 的JSON数据。
                console.log(data,11111111)
                return data.data;
            }
        });
    })

</script>