#  简介 
    在集群中会有 1 个 master 和多个 slave 节点，当 master 节点失效时，应选举出一个 slave 节点作为新的 master。
    然而 Redis 本身(包括它的很多客户端)没有实现自动故障发现并进行主备切换的能力，需要外部(Sentinel)的监控方案来实现自动故障恢复。
    Redis Sentinel 是官方推荐的高可用性解决方案。它是 Redis 集群的监控管理工具，可以提供节点监控、通知、自动故障恢复和客户端配置发现服务。

#  一主两从三哨兵模式：主节点以写为主(可写也可以读)，从节点只能读不可写入！【读写分离场景】

      下面是关于redis主从复制的一些特点：
      1.一个master可以有多个slave
      2.除了多个slave连到相同的master外，slave也可以连接其他slave形成图状结构
      3.主从复制不会阻塞master。也就是说当一个或多个slave与master进行初次同步数据时，master可以继续处理client发来的请求。相反slave在初次同步数据时则会阻塞不能处理client的请求。
      4.主从复制可以用来提高系统的可伸缩性,我们可以用多个slave 专门用于client的读请求，比如sort操作可以使用slave来处理。也可以用来做简单的数据冗余
      5.可以在master禁用数据持久化，只需要注释掉master 配置文件中的所有save配置，然后只在slave上配置数据持久化。
      6.可以用于读写分离和容灾恢复。

      我们来了解下redis的Setinel系统：
      Redis 的 Sentinel 系统用于管理多个 Redis 服务器（instance）， 该系统执行以下三个任务：
      监控（Monitoring）： Sentinel 会不断地检查你的主服务器和从服务器是否运作正常。
      提醒（Notification）： 当被监控的某个 Redis 服务器出现问题时， Sentinel 可以通过 API 向管理员或者其他应用程序发送通知。
      自动故障迁移（Automatic failover）： 当一个主服务器不能正常工作时， Sentinel 会开始一次自动故障迁移操作，
      它会将失效主服务器的其中一个从服务器升级为新的主服务器， 并让失效主服务器的其他从服务器改为复制新的主服务器；
      当客户端试图连接失效的主服务器时， 集群也会向客户端返回新主服务器的地址， 使得集群可以使用新主服务器代替失效服务器。